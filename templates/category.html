{% extends "base.html" %}

{% block title %}{{ category }} - Twenty-Something Year Old Journalist{% endblock %}

{% block content %}
<div class="category-container">
    <h1 class="page-title">{{ category }}</h1>
    {% if category == 'Songbird Magazine' %}
        <p class="page-subheader">Articles written for the publication Songbird Magazine—all music related.</p>
    {% elif category == 'Angsty Entries' %}
        <p class="page-subheader">The articles written when the meds aren't doing what the meds are supposed to be doing.</p>
    {% elif category == 'Quick Reads' %}
        <p class="page-subheader">If the bathroom break is shorter than usual, you've come to the right spot.</p>
    {% endif %}
    
    {% if articles %}
        <div class="articles-list">
            {% for article in articles %}
            <div class="article-preview-row">
                <div class="preview-image-container">
                    <img src="{{ article['cover_image_filename'] | cover_image_url }}" 
                         alt="{{ article['title'] }}" class="preview-image">
                </div>
                <div class="preview-text-container">
                    <h2 class="preview-row-title">{{ article['title'] }}</h2>
                    <p class="preview-row-date">{{ article['published_date'] }}</p>
                    <p class="preview-row-excerpt">{{ article['content_html'] | striptags | truncate(200) }}</p>
                    <a href="{{ url_for('article_detail', slug=article['slug']) }}" class="continue-reading">continue reading →</a>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="no-articles">No articles found in this category yet.</p>
    {% endif %}
</div>
{% endblock %}

